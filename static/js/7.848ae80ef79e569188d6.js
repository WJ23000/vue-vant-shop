webpackJsonp([7],{AOoF:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});s("teIl");var e={name:"Cart",data:function(){return{title:"购物车",navActive:2,cartItems:[{id:1,title:"智能飞行器",price:3500,specif:"默认",value:1,sell:101,url:"",selected:!1,icon:s("0Nqk")},{id:2,title:"智能飞行器高空拍摄续航6小时，高清在线生成远景视频，蓝色荣耀奢华版",price:3500,specif:"蓝色",value:2,sell:102,url:"",selected:!1,icon:s("0Nqk")}],total:0,CheckAll:!1,goodsCount:0,delCount:0,showVal:!1,iconXz:s("gTlf"),iconWxz:s("hDzd")}},created:function(){},mounted:function(){},methods:{select:function(t){var a=this.CheckAll;a=!a;for(var s=this.cartItems,e=0;e<s.length;e++)s[e].selected=a;this.cartItems=s,this.CheckAll=a,this.getSumTotal(),this.getGoodsCount(),this.delGoodsCount()},add:function(t){var a=this.cartItems;console.log(a);var s=t.currentTarget.dataset.index;console.log(s);var e=a[s].value;e++,a[s].value=e,this.cartItems=a,this.getSumTotal()},reduce:function(t){var a=this.cartItems,s=t.currentTarget.dataset.index,e=a[s].value;1==e?(e--,a[s].value=1):(e--,a[s].value=e),this.cartItems=a,this.getSumTotal()},selectedCart:function(t){var a=this.cartItems,s=t.currentTarget.dataset.index,e=a[s].selected;a[s].selected=!e,this.cartItems=a,this.getSumTotal(),this.getGoodsCount(),this.delGoodsCount()},del:function(t){var a=this.cartItems;console.log(a.length);for(var s=0;s<a.length;s++)1==a[s].selected&&(a.splice(s,1),this.delCount=s,s-=1);this.cartItems=a,this.total=0,this.goodsCount=0,this.CheckAll=!1},delGoodsCount:function(){for(var t=0,a=0;a<this.cartItems.length;a++)this.cartItems[a].selected&&(t+=1);this.delCount=t},payOrder:function(){this.$router.push({path:"/payOrder",params:{orderId:1}})},getSumTotal:function(){console.log("触发了嘛"),console.log(this.cartItems);for(var t=0,a=0;a<this.cartItems.length;a++)this.cartItems[a].selected&&(t+=this.cartItems[a].value*this.cartItems[a].price);this.total=t},getGoodsCount:function(){for(var t=0,a=0;a<this.cartItems.length;a++)this.cartItems[a].selected&&(t+=1);this.goodsCount=t},onRightEdit:function(){this.showVal=!0},cancel:function(){this.showVal=!1}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cart"},[e("div",{staticClass:"page-header"},[e("van-nav-bar",{attrs:{title:t.title,"right-text":"编辑"},on:{"click-right":t.onRightEdit}})],1),t._v(" "),e("div",{staticClass:"page-content"},[t.cartItems.length>0?e("div",t._l(t.cartItems,function(a,s){return e("div",{key:s,staticClass:"cart-cell"},[e("div",{staticClass:"cart-box",attrs:{"data-id":a.id,"data-index":s}},[e("div",{staticClass:"icon"},[a.selected?e("van-icon",{attrs:{name:t.iconXz,"data-index":s,size:"20px"},on:{click:t.selectedCart}}):e("van-icon",{attrs:{name:t.iconWxz,"data-index":s,size:"20px"},on:{click:t.selectedCart}})],1),t._v(" "),e("div",{staticClass:"cart-main"},[e("div",{staticClass:"left"},[e("div",{staticClass:"left_imgae"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.icon,expression:"item.icon"}],staticClass:"cart-image"})]),t._v(" "),e("div",{staticClass:"left_box"},[e("span",{staticClass:"cart-title"},[t._v(t._s(a.title))]),t._v(" "),e("span",{staticClass:"cart-price"},[t._v("￥"+t._s(a.price))]),t._v(" "),e("span",{staticClass:"cart-specif"},[t._v(t._s(a.specif))]),t._v(" "),e("span",{staticClass:"input cart-reduce",attrs:{"data-index":s},on:{click:t.reduce}},[t._v("-")]),t._v(" "),e("span",{staticClass:"input cart-text"},[t._v(t._s(a.value))]),t._v(" "),e("span",{staticClass:"input cart-add",attrs:{"data-index":s},on:{click:t.add}},[t._v("+")])])])]),t._v(" "),t.showVal?e("div",[e("div",{staticClass:"del-bottom"},[e("div",{staticClass:"cart-bottom-cell",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),e("div",{staticClass:"cart-bottom-cell del-color",on:{click:t.del}},[t._v("删除("+t._s(t.delCount)+")")])])]):e("div",[e("div",{staticClass:"cart-bottom"},[e("div",{staticClass:"cart-bottom-icon"},[t.CheckAll?e("van-icon",{attrs:{name:t.iconXz,"data-index":s,size:"20px"},on:{click:t.select}}):e("van-icon",{attrs:{name:t.iconWxz,"data-index":s,size:"20px"},on:{click:t.select}})],1),t._v(" "),e("div",{staticClass:"checkAll"},[t._v("全选")]),t._v(" "),e("div",{staticClass:"cart-sum"},[e("span",{staticClass:"sum_text"},[t._v("合计：")]),t._v(" "),e("span",{staticClass:"sum_color"},[t._v("￥"+t._s(t.total)+"元")])]),t._v(" "),e("div",{staticClass:"cart-pay"},[e("span",{staticClass:"cart_pay",attrs:{"data-id":a.id},on:{click:t.payOrder}},[t._v("结算("+t._s(t.goodsCount)+")")])])])])])])}),0):e("div",{staticClass:"nodata_text"},[e("img",{attrs:{src:s("ht/w")}})])]),t._v(" "),e("van-tabbar",{model:{value:t.navActive,callback:function(a){t.navActive=a},expression:"navActive"}},[e("van-tabbar-item",{attrs:{to:{path:"/"},icon:"shop-o"}},[t._v("首页")]),t._v(" "),e("van-tabbar-item",{attrs:{to:{path:"/category"},icon:"apps-o"}},[t._v("分类")]),t._v(" "),e("van-tabbar-item",{attrs:{to:{path:"/cart"},icon:"shopping-cart-o",info:"5"}},[t._v("购物车")]),t._v(" "),e("van-tabbar-item",{attrs:{to:{path:"/mine"},icon:"manager-o"}},[t._v("我的")])],1)],1)},staticRenderFns:[]};var c=s("VU/8")(e,i,!1,function(t){s("Ns5h")},"data-v-2d6d529c",null);a.default=c.exports},Ns5h:function(t,a){},gTlf:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADUUlEQVRYR9WXT6hUZRjGn+eM3JhvhETBLEjIVWI7yTtjWHI31cZNokW76yJaKCjaH+ueM+dMf8wUbkGtTBdtVKhFQYFgkUjn3AvhshYiVNRdhEHGnJPmPU+c0TvNmTlnzpnmwqXZzvs+z+97533f7xtihT9cYX/8zwAkNprRo7D4pBA/SOCBpIIiFgDrRy7qgu+a+VGqWqoC2x2tjyvhforT4B3TvI+AXyi8d2tDdfa7F/h3EUwhQN0LDxA4DuCeIrHU98I1kNO+Xf1mWN5QgIbb9kDOjGTcGyzcBnHEt81snkYuQN1rtwi+/p/N04kJxIksrUyAhhvtA3VqmcwTmUXGnPq2Wb3UrzkA0GhqrazoJwK1ZQRIZmXhtzXmoasHeLNXdwBg0g2PW8SRsc2FDwA8DWLTklYMeXN2zckHOK9K/fvoBgkzJsCsb5uDk2/qPmsxvALw/s6+gP4IHjbrsIeLS/qpCtRb0U5KXy+HeaLR8KJpQB+l9bizdzRTAA0vfBvAKxkAfwpYTRSu7s7Jk/y6Gz0P6uOMnGO+bV7NroAbniWxNzXKwi3G2IEKHxF0aghEGXMIOBvY5rlMgIYXJmOyow/gZOCYw/kl7UR3zSdb4W4K53NBhUu+Y57IroAXXibwWN9KvS1LzwQztc/ulLb9IskPe2L+PXmrvYvipwAqeX0k4XLgmO4h003ohecI7BlIFvIg0uYxPwGxalgTSzgXOObZvB44RuLlTIE+iG2taGp+pvpV56dp/fUU4vjzIvPOKArvBI7pNnqqAoloRbqYe4I+iCQuybFifUliosz4xuLUnFPtjnp6EyaL6IfwOsF7y0DcBf6i7FUt6Uaw2azNXUR3m+wNkq8NPU1SCdIllNyWo7wTTvi2Sa35gbtga1NmwgqvLq3PMmUtEyOgzbi60W/y9974zOt4ezN6XJaSBssdpzKmfSt4n29XT/fnDXmQhIcInBzdaDBDkhs4tWaW1tAnWd0ND5J4d5xKCHorsGu5PVX4KO38HNSZ3nu9ZFVuCngpsM37w+ILAZLkLU1NrGa03wIOFT3LIfwq6nS8yszOH+X1IthSAF2Rvj8mADeQooQFwvpZ1IXANnNFpoVTMIrAuLGjVWBct4z8FQf4B6DFVTCv9LiVAAAAAElFTkSuQmCC"},hDzd:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADtklEQVRYR+2XS2hdVRSG/3/fXGI8V8FBB/aBnQgJaXrv3WsrJbEqKoIPfIwKWnEkpYrgM4qDqgOxojiqLYgiDtTSgSK0w/oa6MCzT7yxFZtbmz40KmLojVgDOTlLdiSStPeZXOnENd5rre+stfba/yEusvEi58f/AB1XoFqt9s7MzIyQXA/gyizL/gLwszFmwlpb6bSlbQPEcXwHgAdJ3g4gqpdIVU8D+CCfz+8pFos/tgPTEmBsbGxkfn5+H8khAOMkD6nq58aYE4VC4XStVrvMGLMxy7JBkjcCuEdVCwDezeVyT5XL5bPNQJoCeO8fU9VXAUyRHLXWHiCpzQKOj49fMTc39zyARwGcIXl3s9Y0BPDePwfgJVX9xhhzq7X2t3ZKungmSZLbsiz7kGSqqtc4576v518XIDiraij10Xw+v6VYLP7ZSfIlENdnWfYJgJMAxDlXOz/OBQBxHF9K8qSq5np7e0tDQ0NnVpJ80cd7/wiAPQDeFJEd7QC8TPJZANtF5L3VJF8C8RmArblcbqBUKk0sjbmsAuGrvffTAI4756QbyUOMSqWyKU3Tb1V1n3Pu4YYA3vubABwOEywioWxdM+/91wDWisi6hgBJkjyjqrtJrrPWTnUtO4AkSV5U1V25XG59qVT6aTH2shZ4798I205EwiLpqnnv7wUQruWwtfarugBxHB8kuUlENnY1+z8VuEFVwzBuE5EDjQAOAdjsnNvwXwGo6v3OufcbteAdAPeJSG+3Abz32wDsB3CziITltGDnz8ArAEZ7enqGisXikW5CxHG8sF9IDlprv6sLkCTJXar6McknrbWvdxlgjORV1to1JOcbzUCe5K+qelZErl56cDUwcRxbkh7AXhEJq/lfu+At8N6Hp/QFVX3IOffWahIv+nrvv1TVa0n2i8jxpgCVSiVK0/SEqoZBDDciqJwVWxzHO0nuDQ+SiASNsMzqPsdxHF9H8rCqHisUCiP9/f1/rITAe79VVT8leURVh51z59oCCIfC5lLVsDCO9fX13TI4OPhLJxCLggTAqSiKRgYGBn6v599Kkm1R1Y8ApMaY0XK5vL+VJKtWq5fXarVdJB8HcDCKou3NKthSlCZJsibLstdIPhAUUghqjPnCGPNDFEWn0jQtzM7OblDVzaq6IEoXFgz5tLX27VZVawmwZJJDNZ4AcCfJvgaBg5IK2253PfnVcQvqOUxOTl4yPT09HH5MsixbC+CcMWZKVSdEZLzVF7c9hJ0GWun5tluw0gSt/P4GxBOWMLNKrTIAAAAASUVORK5CYII="},teIl:function(t,a,s){"use strict";var e={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("van-nav-bar",{attrs:{title:this.title}})],1)},staticRenderFns:[]},i=s("VU/8")({name:"Header",props:["titleVal"],data:function(){return{title:this.titleVal}},created:function(){}},e,!1,null,null,null);a.a=i.exports}});
//# sourceMappingURL=7.848ae80ef79e569188d6.js.map